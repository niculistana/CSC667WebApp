function preload(){game.load.image("dollars","assets/sprites/dollar_sign.png"),game.load.image("logo","assets/sprites/liars_dice_logo.png"),game.load.spritesheet("button","assets/buttons/button_sprite_sheet.png",193,71),diePool=new diePool(4),diePool.generatePool()}function create(){game.stage.backgroundColor="#fff",logo=game.add.sprite(game.world.centerX,game.world.centerY,"logo"),logo.anchor.setTo(.5,.5),logo.alpha=0,game.add.tween(logo).to({alpha:1},2e3,Phaser.Easing.Linear.None,!0),debugText=game.add.text(game.world.centerX,game.world.centerY,"",{font:"12px Arial",fill:"#ff0044",align:"left"}),diePoolText=game.add.text(game.world.centerX,game.world.centerY,"",{font:"12px Arial",fill:"#ff0044",align:"center",wordWrap:!0,wordWrapWidth:100}),playerText=game.add.text(game.world.centerX,game.world.centerY,"",{font:"12px Arial",fill:"#ff0044",align:"center",wordWrap:!0,wordWrapWidth:100}),debugText.fixedToCamera=!0,debugText.cameraOffset.setTo(200,500),testButtonGroup=game.add.group();var e=game.make.button(game.world.centerX-360,10,"button",testMethod1,this,2,1,0);e.scale.setTo(.35,.35),window.rich=e;var t=game.make.button(game.world.centerX-280,10,"button",testMethod2,this,2,1,0);t.scale.setTo(.35,.35),window.rich=t;var a=game.make.button(game.world.centerX-200,10,"button",testMethod3,this,2,1,0);a.scale.setTo(.35,.35),window.rich=a;var o=game.make.button(game.world.centerX-120,10,"button",testMethod4,this,2,1,0);o.scale.setTo(.35,.35),window.rich=o,testButtonGroup.add(e),testButtonGroup.add(t),testButtonGroup.add(a),testButtonGroup.add(o),sceneButtonGroup=game.add.group();var s=game.make.button(game.world.centerX-360,550,"button",waitGame,this,2,1,0);s.scale.setTo(.35,.35),window.rich=s;var r=game.make.button(game.world.centerX-280,550,"button",startGame,this,2,1,0);r.scale.setTo(.35,.35),window.rich=r;var n=game.make.button(game.world.centerX-200,550,"button",continueGame,this,2,1,0);n.scale.setTo(.35,.35),window.rich=n;var d=game.make.button(game.world.centerX-120,550,"button",endGame,this,2,1,0);d.scale.setTo(.35,.35),window.rich=d,sceneButtonGroup.add(s),sceneButtonGroup.add(r),sceneButtonGroup.add(n),sceneButtonGroup.add(d),waitGame()}function testMethod1(){diePool.resetDiePool()}function testMethod2(){alert("testMethod2"),players[0].challengePlayer(players[1].playerNameText)}function testMethod3(){alert("testMethod3"),players[0].displayHand()}function testMethod4(){alert("testMethod4"),players[0].loseDice(),players[0].displayHand()}function waitGame(){players.push(new Player("2:00",playerNames[numPlayers],numPlayers)),players[numPlayers].getDice(diePool.allDice),playerText.text+=players[numPlayers].playerNameText,numPlayers++,logo.alpha=1,state="Wait",debugText.text="[State]: "+state+"; [numPlayers]: "+numPlayers+"; [assetsLoaded]: "+assetsLoaded+"; [hasWinner]: "+hasWinner,numPlayersTimeout=setTimeout("waitGame()",3e3)}function startGame(){clearTimeout(numPlayersTimeout),logo.alpha=0,state="Start",debugText.text="[State]: "+state+"; [numPlayers]: "+numPlayers+"; [assetsLoaded]: "+assetsLoaded+"; [hasWinner]: "+hasWinner,assetsLoadedTimeout=setTimeout("startGame()",5e3),assetsLoaded=!0}function continueGame(){clearTimeout(assetsLoadedTimeout),state="Continue",debugText.text="[State]: "+state+"; [numPlayers]: "+numPlayers+"; [assetsLoaded]: "+assetsLoaded+"; [hasWinner]: "+hasWinner,diePoolText.text="Die pool\n";for(var e in diePool.allDice)diePoolText.text+=" "+diePool.allDice[e].value.toString();hasWinnerTimeout=setTimeout("continueGame()",3e3),hasWinner=!0}function endGame(){clearTimeout(hasWinnerTimeout),numPlayers=0,assetsLoaded=!1,hasWinner=!1,state="End",diePoolText.text="",players=[],playerText.text="",debugText.text="[State]: "+state+"; [numPlayers]: "+numPlayers+"; [assetsLoaded]: "+assetsLoaded+"; [hasWinner]: "+hasWinner,emitter=game.add.emitter(game.world.centerX,250,200),emitter.makeParticles("dollars"),emitter.setRotation(0,0),emitter.setAlpha(.3,.8),emitter.setScale(.5,1),emitter.gravity=0,emitter.start(!1,4e3,20),setTimeout(function(){emitter.destroy(),waitGame()},3e3)}function isRoomFull(){return 4===numPlayers}function isLoaded(){return!!assetsLoaded}function isContinue(){return!!hasWinner}var game=new Phaser.Game(740,600,Phaser.AUTO,"phaser-window",{preload:preload,create:create}),numPlayers=0,players=[],assetsLoaded=!1,hasWinner=!1,logo,text,state,diePool,playerNames={0:"David",1:"Nicu",2:"Eric",3:"Josh"},maxPlayers=4,testButtonGroup,sceneButtonGroup,numPlayersTimeout,assetsLoadedTimeout,hasWinnerTimeout;